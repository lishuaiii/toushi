<form id="signup-form" class="form-horizontal" method="post" action="?c=user&amp;a=signup">
  <fieldset>
    <legend><?=__('NEW_ACCOUNT_SIGNUP')?></legend>
    <div class="control-group <?php if(isset($data['error']['email'])) echo 'error'; ?>">
      <label class="control-label" for="email"><?=__('EMAIL')?></label>
      <div class="controls">
        <input type="text" name="email" id="email" placeholder="<?=__('EMAIL')?>" value="<?=v('email')?>" />
        <span class="help-inline"><?=$data['error']['email'][0]?></span>
      </div>
    </div>
    <div class="control-group <?php if(isset($data['error']['nickname'])) echo 'error'; ?>">
      <label class="control-label" for="nickename"><?=__('NICKNAME')?></label>
      <div class="controls">
        <input type="text" name="nickname" id="nickname" placeholder="<?=__('NICKNAME');?>" value="<?=v('nickname')?>" />
        <span class="help-inline"><?=$data['error']['nickname'][0]?></span>
      </div>
    </div>
    <div class="control-group <?php if(isset($data['error']['password'])) echo 'error'; ?>">
      <label class="control-label" for="password"><?=__('PASSWORD')?></label>
      <div class="controls">
        <input type="password" name="password" id="password" placeholder="<?=__('PASSWORD')?>" />
        <span class="help-inline"><?=$data['error']['password'][0]?></span>
      </div>
    </div>
     <div class="control-group <?php if(isset($data['error']['subscribed_account'])) echo 'error'; ?>">
      <label class="control-label" for="subscribed_account"><?=__('SUBSCRIBED_ACCOUNT')?></label>
      <div class="controls">
        <input type="text" class="input-medium" name="subscribed_account" id="subscribed_account" placeholder="<?=__('SUBSCRIBED_ACCOUNT')?>" value="<?=v('subscribed_account')?>" />
        <select class="input-medium" name="account">
          <?php foreach(c('available_account') as $account): ?>
            <option value="<?=$account?>" <?php if(v('account') == $account): ?>selected<?php endif; ?>><?=$account?></option>
          <?php endforeach; ?>
        </select>
        <span class="help-inline"><?=$data['error']['subscribed_account'][0];?></span>
      </div>
    </div>
    <div class="control-group">
      <div class="controls">
        <label class="checkbox">
          <input type="checkbox" name="protocal" checked/><?=__('AGREE_PROTOCAL')?>
        </label>
      </div>
    </div>
    <div class="form-actions">
      <input class="btn btn-success" name="signup" type="submit" value="<?=__('SIGNUP')?>"/>
      <small class="help-inline error hide"><?=__('NOT_AGREE_PROTOCAL')?></small>
    </div>
  </fieldset>
</form>
<div id="protocal" class="modal hide fade" tabindex="-1" role="dialog">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
    <h4><?=__('PROTOCAL')?></h4>
  </div>
  <div class="modal-body">
    <p><?=__('PROTOCAL_TEXT')?></p>
  </div>
</div>
<script type="text/javascript">
$("input[name=signup]").click(function(e){
  if(!$("input[name=protocal]").attr("checked")){
    e.preventDefault();
    $(this).next().show();
  }
})
</script>